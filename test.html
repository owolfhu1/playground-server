<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
    <script src="games/connect-four.js"></script>

    <style>
        button {
            height: 50px;
            width: 50px;
            border-radius: 25px;
            font-size: 40px;
        }
    </style>
</head>
<body>
    <!-- the whole app goes in this table -->
    <table></table>
</body>

<script>

    //make board
    let table = '<tr>';
    for (let x = 0; x < 7; x++)
        table += `<td><button onclick="drop(${x})">V</button></td>`;
    table += '</tr>';
    for (let y = 0; y < 6; y++) {
        table += '<tr>';
        for (let x = 0; x < 7; x++)
            table += `<td><button id="x${x}y${y}" disabled></button></td>`;
        table += '</tr>';
    }
    document.getElementsByTagName('table')[0].innerHTML = table;

    //function to display board
    const display = board => {
        for (let y = 0; y < 6; y++)
            for (let x = 0; x < 7; x++)
                //document.getElementById(`x${x}y${y}`).innerHTML = board[y][x] === 0 ? '' : board[y][x] === -1 ? 'X' : 'O';
                document.getElementById(`x${x}y${y}`).style.background = board[y][x] === 0 ? 'transparent' : board[y][x] === -1 ? 'red' : 'black';

    };

    let game = new Game(winner => {
        alert(`looks like ${winner === 1 ? 'black': winner === -1 ? 'red' : 'no one'} has won`);
    });

    const drop = position => {
        game.addChip(position, (success, board) => {
            if (success) {
                display(board);
            }
        })
    }


</script>


</html>